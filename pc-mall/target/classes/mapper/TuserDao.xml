<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pc.small.mapper.TuserDao">
    <select id="findTUserCode" resultType="mall.model.Tuser">
        select  * from TUSER where USEREMAIL=#{email}
    </select>
    <select id="reLogin" resultType="mall.model.Tuser">
        select  * from TUSER where ID=#{s}
    </select>

    <select id="findTUserIsUser" resultType="mall.model.Tuser">
        select  * from TUSER where USEREMAIL=#{email} and USERSTATUS = '1'
    </select>


    <select id="findTUser" resultType="mall.model.Tuser">
        select  * from TUSER where USEREMAIL=#{email} and USERPASSWORD=#{password} and USERSTATUS = '1'
    </select>

    <select id="findTUserByName" parameterType="string" resultType="mall.model.Tuser">
        select * from TUSER where USERNAME =#{name}
    </select>
    <insert id="addUser" parameterType="mall.model.Tuser">
        insert into TUSER(ID,USERNAME,USEREMAIL,USERPASSWORD,USERLOGO,ISVIP,USERCITY,USERMONEY,USERSTATUS)
        values (#{id},#{username},#{useremail},#{userpassword},#{userlogo},#{isvip},#{usercity}
        ,#{usermoney},#{userstatus}
        )
    </insert>
    <update id="UpdataShopCount" >
        UPDATE TUSER set SHOPCOUNT = #{r} where ID = #{s}
    </update>
    <select id="checkMoney" parameterType="string" resultType="string">
        select USERMONEY from TUSER where ID =#{id}
    </select>
    <update id="updatemoney">
        update  TUSER set USERMONEY = #{money} where ID =#{id}
    </update>
</mapper>